!function (t, e, n) {
    "use strict";

    function i(t, e) {
        this.elem = t, e = e || {}, this.className = e.className || "pixeleditor";
        this.buttons = e.buttons || ["bold", "italic", "link", "list", "h2", "undo", "source", "more"], this.additional_buttons = e.additional_buttons || ["quote", "code", "underline", "deleted", "line"], this.buttonsHtml = e.buttonsHtml || null, this.overwriteButtonSettings = e.overwriteButtonSettings || null, this.css = e.css || null, this.onLoaded = "function" == typeof e.onLoaded ? e.onLoaded : null, this.randomString = Math.random().toString(36).substring(7), this.attachEvents()
    }

    i.prototype.attachEvents = function () {
        this.bootstrap(), this.addToolbar(), this.additionalToolbar(), this.handleKeypress(), this.utils(), this.autoHeight();
        var e = this, n = t(e.elem);
        this.handleSelectionChange(), n.on("input", function () {
            e.updateStatus()
        }), e.updateStatus(), setInterval(function () {
            e.updateStatus()
        }, 1e3), null !== this.onLoaded && this.onLoaded.call(this)
    }, i.prototype.detachEvents = function () {
        t(this.elem).closest("." + this.className + "-wrapper").find("." + this.className + "-toolbar").remove(), t(this.elem).removeClass(this.className).removeAttr("contenteditable").unwrap()
    }, i.prototype.bootstrap = function () {
        var n = t(this.elem).prop("tagName").toLowerCase();
        if ("textarea" === n || "input" === n) {
            var i = t(this.elem).attr("placeholder") || "", o = t(this.elem).css("marginTop") || 0,
                a = t(this.elem).css("marginBottom") || 0, l = "";
            (o.length > 0 || a.length > 0) && (l = ' style="margin-top: ' + o + "; margin-bottom: " + a + '" '), t(this.elem).after('<div id="' + this.randomString + '-editor" placeholder="' + i + '">' + t(this.elem).val() + "</div>"), t(this.elem).hide().addClass(this.randomString + "-bind"), this.elem = e.getElementById(this.randomString + "-editor"), t(this.elem).attr("contentEditable", !0).addClass(this.className).wrap('<div class="' + this.className + '-wrapper"' + l + "></div>")
        } else t(this.elem).attr("contentEditable", !0).addClass(this.className).wrap('<div class="' + this.className + '-wrapper"></div>');
        this.$wrapperElem = t(this.elem).parent(), null !== this.css && t(this.elem).css(this.css), this.containerClass = "." + this.className + "-wrapper", "string" == typeof this.elem && (this.elem = t(this.elem).get(0)), this.$wrapperElem.append('<div class="' + this.className + '-statusbar">words: <span class="word-count">0</span> | chars: <span class="char-count">0</span></div>')
    }, i.prototype.handleKeypress = function () {
        var n = this;
        t(n.elem).keydown(function (t) {
            if (13 === t.keyCode && !1 === n.isSelectionInsideElement("li")) return t.preventDefault(), !0 === t.shiftKey ? e.execCommand("insertHTML", !1, "<br>") : e.execCommand("insertHTML", !1, "<br><br>"), !1
        }), n.elem.addEventListener("paste", function (t) {
            t.preventDefault();
            var n = t.clipboardData.getData("text/plain").replace(/\n/gi, "<br>");
            e.execCommand("insertHTML", !1, n)
        })
    }, i.prototype.isSelectionInsideElement = function (t) {
        var i, o;
        for (t = t.toUpperCase(), n.getSelection ? (i = n.getSelection()).rangeCount > 0 && (o = i.getRangeAt(0).commonAncestorContainer) : (i = e.selection) && "Control" != i.type && (o = i.createRange().parentElement()); o;) {
            if (1 == o.nodeType && o.tagName == t) return !0;
            o = o.parentNode
        }
        return !1
    }, i.prototype.addToolbar = function () {
        t(this.elem).before('<div class="' + this.className + '-toolbar"><ul></ul></div>'), this.$toolbarContainer = this.$wrapperElem.find("." + this.className + "-toolbar"), this.populateButtons()
    }, i.prototype.additionalToolbar = function () {
        t(this.elem).before('<div class="' + this.className + '-additional-toolbar"><ul></ul></div>'), this.$toolbarContainer = this.$wrapperElem.find("." + this.className + "-additional-toolbar"), this.populateadditionalButtons()
    }, i.prototype.injectButton = function (e) {
        var n = this;
        if (null !== n.overwriteButtonSettings && void 0 !== n.overwriteButtonSettings[e.buttonIdentifier]) {
            var i = t.extend({}, e, n.overwriteButtonSettings[e.buttonIdentifier]);
            e = i
        }
        if (null !== n.buttonsHtml && void 0 !== n.buttonsHtml[e.buttonIdentifier] && (e.buttonHtml = n.buttonsHtml[e.buttonIdentifier]), e.buttonHtml) if (void 0 !== e.childOf) {
            var o = n.$toolbarContainer.find(".toolbar-" + e.childOf).parent("li");
            0 === o.find("ul").length && o.append("<ul></ul>"), (o = o.find("ul")).append('<li><button type="button" class="button-toolbar toolbar-' + e.buttonIdentifier + '" data-title="' + e.buttonTitle + '">' + e.buttonHtml + "</button></li>")
        } else n.$toolbarContainer.children("ul").append('<li><button type="button" class="button-toolbar toolbar-' + e.buttonIdentifier + '" data-title="' + e.buttonTitle + '">' + e.buttonHtml + "</button></li>");
        "function" == typeof e.clickHandler && (t("html").find(n.elem).closest(n.containerClass).on("click", ".toolbar-" + e.buttonIdentifier, function (i) {
            void 0 !== typeof e.hasChild && !0 === e.hasChild ? i.stopPropagation() : i.preventDefault(), t(this).toggleClass("active"), e.clickHandler.call(this, this), t(n.elem).trigger("keyup")
        }), n.updateButtonStates())
    }, i.prototype.populateButtons = function () {
        var e = this;
        t.each(e.buttons, function (t, n) {
            "function" == typeof e[n] && e[n]()
        })
    }, i.prototype.getSelection = function () {
        if (n.getSelection) {
            var t = n.getSelection();
            if (t.rangeCount) return t
        }
        return !1
    }, i.prototype.populateadditionalButtons = function () {
        var e = this;
        t.each(e.additional_buttons, function (t, n) {
            "function" == typeof e[n] && e[n]()
        })
    }, i.prototype.getSelection = function () {
        if (n.getSelection) {
            var t = n.getSelection();
            if (t.rangeCount) return t
        }
        return !1
    }, i.prototype.removeFormatting = function (n) {
        var i = n.inFullArea;
        if (!0 === this.isSelectionOutsideOfEditor()) return !1;
        if (!1 === i) {
            var o = this.getSelection(), a = o.toString();
            if (o && a.length > 0) {
                var l = o.getRangeAt(0), s = t(l.commonAncestorContainer.parentNode);
                if (s.attr("class") === this.className || s.attr("class") === this.className + "-wrapper") {
                    var r = e.createElement("span");
                    t(r).attr("data-value", "temp").html(a.replace(/\n/gi, "<br>")), l.deleteContents(), l.insertNode(r), t('[data-value="temp"]').contents().unwrap()
                } else {
                    var c, u = !1;
                    t.each(s.parentsUntil(this.elem), function (t, e) {
                        c = e, u = !0
                    }), !0 === u ? t(c).html(t(c).text().replace(/\n/gi, "<br>")).contents().unwrap() : s.contents().unwrap()
                }
            }
        } else t(this.elem).html(t(this.elem).text().replace(/\n/gi, "<br>"))
    }, i.prototype.removeEmptyTags = function () {
        t(this.elem).html(t(this.elem).html().replace(/(<(?!\/)[^>]+>)+(<\/[^>]+>)+/, ""))
    }, i.prototype.removeBlockElementFromSelection = function (n, i) {
        var o = "";
        !0 === (i = void 0 !== i && i) && (o = ", br");
        var a = n.getRangeAt(0).cloneContents(), l = e.createElement("temp");
        return t(l).html(a), t(l).find("h2, p, div" + o).each(function () {
            t(this).replaceWith(this.childNodes)
        }), t(l).html()
    }, i.prototype.wrapSelectionWithNodeName = function (n) {
        if (!0 === this.isSelectionOutsideOfEditor()) return !1;
        var i = {name: "span", blockElement: !1, style: null, class: null, attribute: null, keepHtml: !1};
        "string" == typeof n ? i.name = n : (i.name = n.nodeName || i.name, i.blockElement = n.blockElement || i.blockElement, i.style = n.style || i.style, i.class = n.class || i.class, i.attribute = n.attribute || i.attribute, i.keepHtml = n.keepHtml || i.keepHtml);
        var o = this.getSelection();
        if (o && o.toString().length > 0 && o.rangeCount) {
            var a = this.isAlreadyWrapped(o, i), l = o.getRangeAt(0).cloneRange(), s = e.createElement(i.name);
            if (null === i.style && null === i.class && null === i.attribute || (s = this.addAttribute(s, i)), this.selectionContainsHtml(l)) {
                if (l = o.getRangeAt(0), !0 === i.keepHtml) {
                    var r = l.cloneContents(), c = e.createElement("div");
                    c.appendChild(r), t(s).html(c.innerHTML)
                } else s.textContent = o.toString();
                l.deleteContents(), l.insertNode(s), l.commonAncestorContainer.localName === i.name && (t(l.commonAncestorContainer).contents().unwrap(), this.removeEmptyTags())
            } else l.surroundContents(s), o.removeAllRanges(), o.addRange(l);
            !0 === a && this.removeWrappedDuplicateTag(s), this.removeEmptyTags(), o.removeAllRanges()
        }
    }, i.prototype.wrapSelectionWithList = function (n) {
        if (n = n || "ul", !0 === this.isSelectionOutsideOfEditor()) return !1;
        var i = this.getSelection();
        if (i && i.toString().length > 0 && i.rangeCount) {
            var o = this.removeBlockElementFromSelection(i, !0).split("\n").filter(function (t) {
                return "" !== t
            }), a = t.map(o, function (e) {
                return "<li>" + t.trim(e) + "</li>"
            }), l = e.createElement(n);
            t(l).html(a);
            var s = i.getRangeAt(0);
            s.deleteContents(), s.insertNode(l), i.removeAllRanges()
        }
    }, i.prototype.selectionContainsHtml = function (t) {
        return t.startContainer.parentNode.className !== this.className + "-wrapper"
    }, i.prototype.isAlreadyWrapped = function (e, n) {
        var i = e.getRangeAt(0), o = t(i.commonAncestorContainer), a = !1;
        return o.parent().prop("tagName").toLowerCase() === n.name && !1 === o.parent().hasClass(this.className) ? a = !0 : !0 === n.blockElement ? t.each(o.parentsUntil(this.elem), function (e, n) {
            var i = n.tagName.toLowerCase();
            -1 !== t.inArray(i, ["h1", "h2", "h3", "h4", "h5", "h6"]) && (a = !0)
        }) : t.each(o.parentsUntil(this.elem), function (t, e) {
            e.tagName.toLowerCase() === n.name && (a = !0)
        }), a
    }, i.prototype.removeWrappedDuplicateTag = function (e) {
        var n = e.tagName;
        t(e).unwrap(), t(e).prop("tagName") === n && !1 === t(e).parent().hasClass(this.className) && t(e).parent().hasClass(this.className + "-wrapper") && t(e).unwrap()
    }, i.prototype.addAttribute = function (e, n) {
        return null !== n.style && t(e).attr("style", n.style), null !== n.class && t(e).addClass(n.class), null !== n.attribute && (!0 === t.isArray(n.attribute) ? (!0 !== t.isArray(n.attribute[0]) && (n.attribute[0] = [n.attribute[0], n.attribute[1]]), t.each(n.attribute, function (n, i) {
            t(e).attr(i[0], i[1])
        })) : t(e).attr(n.attribute)), e
    }, i.prototype.insertAtCaret = function (e) {
        if (!0 === this.isSelectionOutsideOfEditor()) return !1;
        this.getSelection() ? this.getSelection().getRangeAt(0).insertNode(e) : t(e).appendTo(this.elem)
    }, i.prototype.isSelectionOutsideOfEditor = function () {
        return !this.elementContainsSelection(this.elem)
    }, i.prototype.isOrContains = function (t, e) {
        for (; t;) {
            if (t === e) return !0;
            t = t.parentNode
        }
        return !1
    }, i.prototype.elementContainsSelection = function (t) {
        var i;
        if (n.getSelection) {
            if ((i = n.getSelection()).rangeCount > 0) {
                for (var o = 0; o < i.rangeCount; ++o) if (!this.isOrContains(i.getRangeAt(o).commonAncestorContainer, t)) return !1;
                return !0
            }
        } else if ((i = e.selection) && "Control" !== i.type) return this.isOrContains(i.createRange().parentElement(), t);
        return !1
    }, i.prototype.insertHtml = function (e) {
        t(this.elem).find("temp").html(e)
    }, i.prototype.utils = function () {
        var n, i = this;
        t("." + i.randomString + "-bind").length > 0 && t("html").on("click keyup", i.elem, function () {
            var e = i.elem;
            clearTimeout(n), n = setTimeout(function () {
                t("." + i.randomString + "-bind").html(t(e).html())
            }, 250)
        });
        t(e).click(function (e) {
            t("." + i.className).closest("." + i.className + "-wrapper").find("." + i.className + "-toolbar > ul > li > ul").hide()
        })
    }, i.prototype.getValue = function () {
        var e = t(this.elem).html(), n = t(this.elem).text();
        return {html: e, plainText: n, characterCount: n.length, wordCount: n.trim().split(/\s+/).length}
    }, i.prototype.bold = function () {
        var t = this, e = {
            buttonIdentifier: "bold",
            buttonTitle: "Bold",
            buttonHtml: '<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="pixels-icon">\n        <path\n         d="M8 11h4.5a2.5 2.5 0 0 0 0-5H8v5Zm10 4.5a4.501 4.501 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.5 4.5 0 0 1 18 15.5ZM8 13v5h5.5a2.5 2.5 0 0 0 0-5H8Z"></path>\n        </svg>',
            clickHandler: function () {
                t.wrapSelectionWithNodeName({nodeName: "strong", keepHtml: !0})
            }
        };
        t.injectButton(e)
    }, i.prototype.italic = function () {
        var t = this, e = {
            buttonIdentifier: "italic",
            buttonTitle: "Italic",
            buttonHtml: '<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="pixels-icon">\n                <path d="M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15v2Z"></path>\n            </svg>',
            clickHandler: function () {
                t.wrapSelectionWithNodeName({nodeName: "em", keepHtml: !0})
            }
        };
        t.injectButton(e)
    }, i.prototype.h2 = function () {
        var t = this, e = {
            buttonIdentifier: "header-2",
            buttonTitle: "Heading",
            buttonHtml: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="pixels-icon"><path d="M17 11V4h2v17h-2v-8H7v8H5V4h2v7z"></path></svg>',
            clickHandler: function () {
                t.wrapSelectionWithNodeName({nodeName: "h2", blockElement: !0})
            }
        };
        t.injectButton(e)
    }, i.prototype.undo = function () {
        var t = this, e = {
            buttonIdentifier: "remove-formatting",
            buttonTitle: "Undo",
            buttonHtml: '<svg height="24" width="24" viewBox="0 0 36 36"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" class="pixels-icon"><title>undo-line</title><path d="M20.87,11.14h-13l5.56-5.49A1,1,0,0,0,12,4.22L4,12.13,12,20a1,1,0,0,0,1.41-1.42L7.86,13.14h13a9.08,9.08,0,0,1,9.13,9,9,9,0,0,1-5,8A1,1,0,0,0,25.93,32a11,11,0,0,0-5.06-20.82Z" class="clr-i-outline clr-i-outline-path-1" stroke="#000000" stroke-width="1"></path><rect x="0" y="0" width="24" height="24" fill-opacity="0"/></svg>',
            clickHandler: function () {
                t.removeFormatting({inFullArea: !1})
            }
        };
        t.injectButton(e)
    }, i.prototype.link = function () {
        var t = this, e = {
            buttonIdentifier: "link",
            buttonTitle: "Link",
            buttonHtml: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="pixels-icon">\n                <path\n                    d="M18.364 15.536 16.95 14.12l1.414-1.414a5.001 5.001 0 0 0-3.531-8.551 5 5 0 0 0-3.54 1.48L9.879 7.05 8.464 5.636 9.88 4.222a7 7 0 1 1 9.9 9.9l-1.415 1.414zm-2.828 2.828-1.415 1.414a7 7 0 0 1-9.9-9.9l1.415-1.414L7.05 9.88l-1.414 1.414a5 5 0 1 0 7.071 7.071l1.414-1.414 1.415 1.414zm-.708-10.607 1.415 1.415-7.071 7.07-1.415-1.414 7.071-7.07z"></path>\n            </svg>',
            clickHandler: function () {
                t.wrapSelectionWithNodeName({nodeName: "a", attribute: ["href", prompt("Insert link", "")]})
            }
        };
        t.injectButton(e)
    }, i.prototype.list = function () {
        var t = this, e = {
            buttonIdentifier: "list",
            buttonTitle: "List",
            buttonHtml: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="pixels-icon"><path d="M8 4h13v2H8zM4.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 6.9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM8 11h13v2H8zm0 7h13v2H8z"></path></svg>',
            clickHandler: function () {
                t.wrapSelectionWithList()
            }
        };
        t.injectButton(e)
    }, i.prototype.source = function () {
        var e = this, n = {
            buttonIdentifier: "source",
            buttonTitle: "View Source",
            buttonHtml: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="pixels-icon"><path d="m23 12-7.071 7.071-1.414-1.414L20.172 12l-5.657-5.657 1.414-1.414zM3.828 12l5.657 5.657-1.414 1.414L1 12l7.071-7.071 1.414 1.414z"></path></svg>',
            clickHandler: function (n) {
                var i, o = t(n).closest("." + e.className + "-wrapper").find("." + e.className);
                t(n).hasClass("is-view-source-mode") ? (i = t("body > textarea." + e.className + "-temp"), o.css("visibility", "visible"), i.remove(), t(n).removeClass("is-view-source-mode")) : (t("body").append('<textarea class="' + e.className + '-temp" style="position: absolute; margin: 0;"></textarea>'), (i = t("body > textarea." + e.className + "-temp")).css({
                    top: o.offset().top,
                    left: o.offset().left,
                    width: o.outerWidth(),
                    height: o.outerHeight()
                }).html(o.html()), o.css("visibility", "hidden"), t(n).addClass("is-view-source-mode"), i.on("keyup click change keypress", function () {
                    o.html(t(this).val())
                }))
            }
        };
        e.injectButton(n)
    }, i.prototype.more = function () {
        var t = this, e = {
            buttonIdentifier: "more",
            buttonTitle: "More",
            buttonHtml: '<svg aria-hidden="true" focusable="false" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="pixels-icon c-btn__icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 17a2 2 0 1 1 0 4 2 2 0 0 1 0-4Zm0-7a2 2 0 1 1 0 4 2 2 0 0 1 0-4Zm2-5a2 2 0 1 0-4 0 2 2 0 0 0 4 0Z"></path></svg>',
            clickHandler: function () {
                t.toggleAdditionalToolbar()
            }
        };
        t.injectButton(e)
    }, i.prototype.toggleAdditionalToolbar = function () {
        this.$toolbarContainer.toggle()
    }, i.prototype.quote = function () {
        var t = this, e = {
            buttonIdentifier: "quote",
            buttonTitle: "Quote",
            buttonHtml: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="pixels-icon"><path d="M4.583 17.321C3.553 16.227 3 15 3 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 0 1-3.5 3.5 3.871 3.871 0 0 1-2.748-1.179zm10 0C13.553 16.227 13 15 13 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 0 1-3.5 3.5 3.871 3.871 0 0 1-2.748-1.179z"></path></svg>',
            clickHandler: function () {
                t.wrapSelectionWithNodeName({nodeName: "blockquote"}), t.toggleAdditionalToolbar()
            }
        };
        t.injectButton(e)
    }, i.prototype.code = function () {
        var t = this, e = {
            buttonIdentifier: "code",
            buttonTitle: "Code",
            buttonHtml: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="pixels-icon"><path d="M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2v14h16V5zm15 7-3.536 3.536-1.414-1.415L16.172 12 14.05 9.879l1.414-1.415zM7.828 12l2.122 2.121-1.414 1.415L5 12l3.536-3.536L9.95 9.88z"></path></svg>',
            clickHandler: function () {
                t.wrapSelectionWithNodeName({nodeName: "pre"}), t.toggleAdditionalToolbar()
            }
        };
        t.injectButton(e)
    }, i.prototype.underline = function () {
        var t = this, e = {
            buttonIdentifier: "underline",
            buttonTitle: "Underline",
            buttonHtml: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="pixels-icon"><path d="M8 3v9a4 4 0 1 0 8 0V3h2v9a6 6 0 1 1-12 0V3zM4 20h16v2H4z"></path></svg>',
            clickHandler: function () {
                t.wrapSelectionWithNodeName({nodeName: "u", keepHtml: !0}), t.toggleAdditionalToolbar()
            }
        };
        t.injectButton(e)
    }, i.prototype.deleted = function () {
        var t = this, e = {
            buttonIdentifier: "deleted",
            buttonTitle: "Deleted",
            buttonHtml: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="pixels-icon"><path d="M17.154 14c.23.516.346 1.09.346 1.72 0 1.342-.524 2.392-1.571 3.147C14.88 19.622 13.433 20 11.586 20c-1.64 0-3.263-.381-4.87-1.144V16.6c1.52.877 3.075 1.316 4.666 1.316 2.551 0 3.83-.732 3.839-2.197a2.21 2.21 0 0 0-.648-1.603l-.12-.117H3v-2h18v2h-3.846zm-4.078-3H7.629a4.087 4.087 0 0 1-.481-.522C6.716 9.92 6.5 9.246 6.5 8.452c0-1.236.466-2.287 1.397-3.153C8.83 4.433 10.271 4 12.222 4c1.471 0 2.879.328 4.222.984v2.152c-1.2-.687-2.515-1.03-3.946-1.03-2.48 0-3.719.782-3.719 2.346 0 .42.218.786.654 1.099s.974.562 1.613.75c.62.18 1.297.414 2.03.699z"></path></svg>',
            clickHandler: function () {
                t.wrapSelectionWithNodeName({nodeName: "del", keepHtml: !0}), t.toggleAdditionalToolbar()
            }
        };
        t.injectButton(e)
    }, i.prototype.line = function () {
        var t = this, n = {
            buttonIdentifier: "line",
            buttonTitle: "Line divider",
            buttonHtml: '<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" class="pixels-icon"><path d="M2 11h6v2H2z"></path><path d="M2 11h6v2H2zm7 0h6v2H9zm7 0h6v2h-6z"></path><path d="M12 6.586 9.707 4.293 8.293 5.707 12 9.414l3.707-3.707-1.414-1.414zm0 10.828-2.293 2.293-1.414-1.414L12 14.586l3.707 3.707-1.414 1.414z" clip-rule="evenodd" fill-rule="evenodd"></path></svg>',
            clickHandler: function () {
                const n = e.createElement("hr");
                e.execCommand("insertHTML", !1, n.outerHTML), t.toggleAdditionalToolbar()
            }
        };
        t.injectButton(n)
    }, i.prototype.autoHeight = function () {
        t(this.elem).on("input", function () {
            this.style.height = "auto", this.style.height = this.scrollHeight + "px"
        })
    }, i.prototype.updateStatus = function () {
        var e = t(this.elem), n = this.$wrapperElem.find(".word-count"), i = this.$wrapperElem.find(".char-count"),
            o = e.text().replace(/<\/?[^>]+(>|$)/g, ""), a = o.trim().split(/\s+/).filter(function (t) {
                return t.length > 0
            }), l = o.length;
        n.text(a.length), i.text(l)
    }, i.prototype.updateButtonStates = function () {
        var t = this;
        ["bold", "italic", "link", "list", "h2", "x", "source", "more", "quote", "code", "underline", "deleted", "line"].forEach(function (n) {
            var i = e.queryCommandState(n), o = t.$toolbarContainer.find(".toolbar-" + n);
            i ? o.addClass("active") : o.removeClass("active")
        })
    }, i.prototype.handleSelectionChange = function () {
        var e = this;
        t(e.elem).on("mouseup keyup", function () {
            e.updateButtonStates()
        })
    }, n.PixelEditor = i, t.fn.pixelEditor = function (e) {
        return this.each(function () {
            t.data(this, "plugin_pixelEditor") || t.data(this, "plugin_pixelEditor", new i(this, e))
        })
    }
}(jQuery, document, window);